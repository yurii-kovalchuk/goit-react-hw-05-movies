{"version":3,"file":"static/js/321.28f15644.chunk.js","mappings":"iNAGaA,EAAWC,EAAAA,GAAAA,GAAH,6CAIRC,GAAWD,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,oK,SCJRG,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACrBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,wBACGF,EAAOG,KAAI,SAAAC,GAAK,OACf,SAACT,EAAD,WACE,SAACE,EAAD,CAAUQ,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMP,GAApD,SACGG,EAAMK,SAFIL,EAAME,GADN,KAStB,C,yJCdYI,E,OAAed,GAAAA,QAAH,0C,kBCsDzB,EAjDe,WAAO,IAAD,EACnB,GAAsCe,EAAAA,EAAAA,UAAS,MAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQ,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAmC9C,OAtBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,mCAAG,6FACN,KAAbH,EADmB,0EAKEI,EAAAA,EAAAA,IAAA,mGACuEJ,IANzE,OAKfK,EALe,SAQcA,EAASC,KAApCC,EARa,EAQbA,QAASC,EARI,EAQJA,cACjBZ,EAAeW,GACO,IAAlBC,IACFC,EAAAA,EAAAA,IAAM,sCAXa,mDAcrBA,EAAAA,EAAAA,IAAM,KAAIC,SAdW,0DAAH,qDAkBtBP,GACD,GAAE,CAACH,KAGF,UAACP,EAAD,YACE,kBAAMkB,SAnCW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,cAAcC,SAASC,MAAMH,MAAMI,OACrC,KAAVJ,GAIJf,EAAgB,CAAEkB,MAAOH,IACzBF,EAAEG,cAAcI,UAJdV,EAAAA,EAAAA,IAAM,uBAKT,EA0BG,WACE,kBAAOW,KAAK,OAAOC,KAAK,WACxB,mBAAQD,KAAK,SAAb,uBAEDzB,IAAe,SAACb,EAAA,EAAD,CAAYC,OAAQY,MAGzC,C","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.js","pages/Movies/Movies.styled.js","pages/Movies/Movies.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const ListItem = styled.li`\n  padding-top: 5px;\n`;\n\nexport const LinkItem = styled(NavLink)`\n  color: black;\n  text-decoration: none;\n  &:hover,\n  :focus {\n    text-decoration: underline;\n  }\n  :active {\n    color: red;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport { ListItem, LinkItem } from './MoviesList.styled';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies.map(movie => (\n        <ListItem key={movie.id}>\n          <LinkItem to={`/movies/${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </LinkItem>\n        </ListItem>\n      ))}\n    </ul>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MovieSection = styled.section`\n  padding: 10px;\n`;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { MovieSection } from './Movies.styled';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\n\nconst Movies = () => {\n  const [queryMovies, setQueryMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const getQuery = searchParams.get('query') ?? '';\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const value = e.currentTarget.elements.query.value.trim();\n    if (value === '') {\n      toast('Please fill in field');\n      return;\n    }\n    setSearchParams({ query: value });\n    e.currentTarget.reset();\n  };\n\n  useEffect(() => {\n    const fetchQueryMovies = async () => {\n      if (getQuery === '') {\n        return;\n      }\n      try {\n        const response = await axios.get(\n          `https://api.themoviedb.org/3/search/movie?api_key=f9d814745439162b2afd5ff7833832ed&query=${getQuery}`\n        );\n        const { results, total_results } = response.data;\n        setQueryMovies(results);\n        if (total_results === 0) {\n          toast('There are no movies with this name');\n        }\n      } catch (err) {\n        toast(err.message);\n      }\n    };\n\n    fetchQueryMovies();\n  }, [getQuery]);\n\n  return (\n    <MovieSection>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {queryMovies && <MoviesList movies={queryMovies} />}\n    </MovieSection>\n  );\n};\n\nexport default Movies;\n"],"names":["ListItem","styled","LinkItem","NavLink","MoviesList","movies","location","useLocation","map","movie","to","id","state","from","title","MovieSection","useState","queryMovies","setQueryMovies","useSearchParams","searchParams","setSearchParams","getQuery","get","useEffect","fetchQueryMovies","axios","response","data","results","total_results","toast","message","onSubmit","e","preventDefault","value","currentTarget","elements","query","trim","reset","type","name"],"sourceRoot":""}